### 一、HTTP协议
HTTP（超文本传输协议）是应用层上的一种基于C/S架构的无连接无状态的请求/响应模式通信协议。

HTTP有**请求报文**和**响应报文**两种形式。

#### 1.1 请求报文
请求报文由三部分组成：**请求行**，**请求头**和**请求数据**。

![](https://raw.githubusercontent.com/fengz63/picture/main/20210808161821.jpg)

1. 请求行：
    
    请求方法：
    + Get：重点在于从服务器上获取数据
    + Post：重点在于向服务器发送数据（例如提交表单或上传文件）
    + HEAD：类似于GET请求，不过返回的响应报文中没有响应体承载数据，只用于获取响应报头。

    URL：
    + 统一资源定位符

    协议版本：
    + 有HTTP1.0 ， HTTP1.1， HTTPS 等协议

2. 请求头：
    
    通过键值对的方式存储。常见的如Content-Type（请求体/响应体的类型），Content-Length（请求体/响应体的长度），Content-Encoding（请求体/响应体的编码格式）

3. 请求数据

    用于存放实际的数据

#### 1.2 响应报文
响应报文同样分为三个部分：**状态行**、**响应头**和**响应体**。

![](https://raw.githubusercontent.com/fengz63/picture/main/20210808162754.jpg)

1. 状态行：

    协议版本：

    + 一般跟请求报文对应的协议版本相同，有HTTP1.0，HTTP1.1，HTTPS。

    状态码：HTTP状态码有五种类型，如下：

    + 1**：信息，服务器收到请求，要求请求者继续操作；

    + 2**：成功，操作成功接收并处理；200 OK：客户端请求成功；

    + 3**：重定向，需要进一步的操作以完成请求；301：网页被永久转移到其他URL；302：网页临时跳转。

    + 4**：客户端错误，请求包含语法错误或无法完成请求；400 Bad Request：客户端请求有语法错误，不能被服务器所理解；401 Unauthorized：请求未经授权；404：请求资源不存在，可能输入了错误的URL。

    + 5**：服务器错误，服务器在处理请求的过程中发生了错误。500：服务器内部发生了不可预期的错误；503 Server Unavailable：服务器当前不能处理客户端的请求。

    状态码信息：

    + 如 200 OK，404 NOT FOUND。

2. 响应头：

    一般以键值对的方式进行存储。常见的如Content-Type（请求体/响应体的类型），Content-Length（请求体/响应体的长度），Content-Encoding（请求体/响应体的编码格式）。

3. 响应体：

    用于存放响应数据

#### 1.3 HTTP长链接和短链接的区别？
+ 长连接 CONNECTION字段设置为keep-alive，在建立连接，传输数据之后，并不会马上断开连接，而是等待一段时间之后再断开，这段时间可以再多次传输数据。

+ 短连接 CONNECTION字段设置为closed，在建立连接，传输数据之后，立刻断开连接。会有较大的开销。

补充：

1. HTTP1.0默认使用短连接，HTTP1.1默认使用长连接。 
2. 长连接分为流水线方式和非流水线方式，非流水线方式就是在接收到HTTP的下一次响应之前都不能再发送新的请求报文，流水线方式就是在接收到HTTP下一次响应报文之前都可以发送新的请求报文。

#### 1.4 HTTP 1.0 和 HTTP 1.1的主要区别是什么？
1. 长短连接：HTTP1.0默认使用短连接；HTTP1.1默认使用长连接。
2. 错误状态响应码：HTTP1.1中新增了24个错误状态响应码。
3. 缓存控制策略：HTTP1.1中请求头中引入了更多的缓存控制策略。
4. 断点续传功能：HTTP1.1中请求头中引入了range，可以只请求资源的某个部分，实现断点续传。

### 二、HTTPS协议
HTTP协议在使用过程中，由于并不满足信息安全的四个特性：安全性，完整性，身份认证性，不可否认性。

于是有了HTTPS协议来帮助解决上述问题，HTTPS协议的全称是HTTP Over SSL，SSL协议对浏览器与Web服务器之间的通信进行了加密，SSL/TLS具体的工作过程如下：
+ 用户向Web服务器发起访问请求；
+ Web服务器将自己的CA认证的数字证书发给用户；
+ 用户拿到数字证书，并用自己浏览器内置的CA证书解密得到Web服务器的公钥；
+ 用户使用服务器的公钥对于对称加密算法的密钥进行加密，发送给Web服务器；
+ 服务器收到后，用自己的私钥解密，得到对称加密算法的密钥；
+ 双方使用对称加密算法开始通信。

#### 2.1 HTTP和HTTPS的区别
1. HTTP协议传输的数据都是未加密的，也就是明文的，因此使用HTTP协议传输隐私信息非常不安全， HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全。
2. https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。 
3. http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。